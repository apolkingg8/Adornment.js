{"version":3,"sources":["G:\\GitHub\\decorate_js\\src\\_helper.jsx"],"names":[],"mappings":"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","file":"_helper.js","sourcesContent":["\r\nfunction handler(args, input, handleClass, handleMethod, handleProp) {\r\n\r\n    if (args.length === 1\r\n        && typeof args[0] === 'function') {\r\n        handleClass && handleClass(args[0], input);\r\n    }\r\n    else if(args.length === 2) {\r\n        // for typescript\r\n        handleProp && handleProp(...args, input)\r\n    } else if (args.length === 3\r\n        && typeof args[0] === 'object'\r\n        && typeof args[1] === 'string'\r\n        && typeof args[2] === 'object') {\r\n\r\n        if((typeof args[2].value === \"function\")\r\n            || (typeof args[2].get === \"function\")\r\n            || (typeof args[2].initializer() === \"function\")) {\r\n            handleMethod && handleMethod(...args, input);\r\n        } else if(args[2].initializer) {\r\n            handleProp && handleProp(...args, input)\r\n        } else {\r\n            console.warn(`wrong descriptor:`, [args], input)\r\n        }\r\n    }\r\n    else {\r\n        console.warn(`wrong arguments:`, [args])\r\n    }\r\n}\r\n\r\nfunction forEachClassOwnKeys(target: Function, callback: Function) {\r\n\r\n    Object.getOwnPropertyNames(target.prototype).forEach(function(key) {\r\n        if(key === 'constructor') {\r\n            return;\r\n        }\r\n        callback(key)\r\n    })\r\n}\r\n\r\nfunction getMethod(descriptor) {\r\n    if(typeof descriptor.value !== \"undefined\") {\r\n        return descriptor.value\r\n    } else if(typeof descriptor.initializer !== \"undefined\") {\r\n        console.warn(`you should not set a decorator with fat arrow. `)\r\n        return descriptor.initializer()\r\n    } else if(typeof descriptor.get !== \"undefined\") {\r\n        // must a decorator after autoBind\r\n        let _method = descriptor.get(true)\r\n        delete descriptor.get\r\n        delete descriptor.set\r\n        return _method\r\n    } else {\r\n        console.warn('wrong method descriptor:', descriptor)\r\n    }\r\n}\r\n\r\nfunction wrongInput(decoratorName, expectType: String, got) {\r\n    console.warn(`wrongInput with @${decoratorName}(): expect ${expectType}, got ${typeof got}`);\r\n}\r\n\r\nfunction notSupportClass(decoratorName) {\r\n    console.warn(`@${decoratorName} can not use with class.`);\r\n}\r\n\r\nexport default {\r\n    handler, wrongInput, notSupportClass, getMethod,\r\n    forEachClassOwnKeys\r\n}\r\n"]}