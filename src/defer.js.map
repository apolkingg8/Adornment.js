{"version":3,"sources":["G:\\GitHub\\decorate_js\\src\\defer.jsx"],"names":[],"mappings":";;;;;;;;uBAAoB,WAAW;;;;AAE/B,SAAS,WAAW,CAAC,MAAgB,EAAE;;AAEnC,yBAAQ,mBAAmB,CAAC,MAAM,EAAE,UAAS,GAAG,EAAE;;AAE9C,YAAG,OAAO,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;AAC5C,gBAAI,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC;gBACnE,MAAM,GAAG,qBAAQ,SAAS,CAAC,UAAU,CAAC,CAAA;;AAE1C,sBAAU,CAAC,KAAK,GAAG,YAAkB;;;kDAAN,IAAI;AAAJ,wBAAI;;;AAC/B,0BAAU,CAAC,YAAK;AACZ,0BAAM,CAAC,KAAK,QAAO,IAAI,CAAC,CAAA;iBAC3B,EAAE,CAAC,CAAC,CAAA;aACR,CAAA;;AAED,kBAAM,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;SAC3D;KACJ,CAAC,CAAA;;AAEF,WAAO,MAAM,CAAA;CAChB;;AAED,SAAS,YAAY,CAAC,MAAgB,EAAE,GAAW,EAAE,UAAU,EAAE;AAC7D,QAAI,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC;;AAE9B,cAAU,CAAC,KAAK,GAAG,YAAkB;;;2CAAN,IAAI;AAAJ,gBAAI;;;AAC/B,kBAAU,CAAC,YAAK;AACZ,kBAAM,CAAC,KAAK,SAAO,IAAI,CAAC,CAAA;SAC3B,EAAE,CAAC,CAAC,CAAA;KACR,CAAA;;AAED,WAAO,UAAU,CAAA;CACpB;;AAED,SAAS,UAAU,CAAC,MAAgB,EAAE,GAAW,EAAE,UAAU,EAAE;AAC3D,WAAO,CAAC,IAAI,8CAA8C,CAAA;AAC1D,WAAO,UAAU,CAAA;CACpB;;AAED,SAAS,KAAK,GAAU;uCAAN,IAAI;AAAJ,YAAI;;;AAClB,yBAAQ,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,UAAU,CAAC,CAAA;CACrE;;qBAEc,KAAK","file":"defer.js","sourcesContent":["import Helpers from './_helper'\r\n\r\nfunction handleClass(target: Function) {\r\n\r\n    Helpers.forEachClassOwnKeys(target, function(key) {\r\n\r\n        if(typeof target.prototype[key] === \"function\") {\r\n            var descriptor = Object.getOwnPropertyDescriptor(target.prototype, key),\r\n                method = Helpers.getMethod(descriptor)\r\n\r\n            descriptor.value = function(...args) {\r\n                setTimeout(()=> {\r\n                    method.apply(this, args)\r\n                }, 0)\r\n            }\r\n\r\n            Object.defineProperty(target.prototype, key, descriptor)\r\n        }\r\n    })\r\n\r\n    return target\r\n}\r\n\r\nfunction handleMethod(target: Function, key: String, descriptor) {\r\n    var method = descriptor.value;\r\n\r\n    descriptor.value = function(...args) {\r\n        setTimeout(()=> {\r\n            method.apply(this, args)\r\n        }, 0)\r\n    }\r\n\r\n    return descriptor\r\n}\r\n\r\nfunction handleProp(target: Function, key: String, descriptor) {\r\n    console.warn(`@defer should not set on class properties.`)\r\n    return descriptor\r\n}\r\n\r\nfunction defer(...args) {\r\n    Helpers.handler(args, null, handleClass, handleMethod, handleProp)\r\n}\r\n\r\nexport default defer"]}