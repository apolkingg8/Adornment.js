{"version":3,"sources":["writable.jsx"],"names":[],"mappings":";;;;;;;;sBAAoB,WAAW;;;;AAE/B,SAAS,WAAW,CAAC,MAAgB,EAAE,KAAc,EAAE;AACnD,wBAAQ,mBAAmB,CAAC,MAAM,EAAE,UAAS,GAAG,EAAE;AAC9C,YAAI,QAAQ,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;;AAErE,gBAAQ,CAAC,QAAQ,GAAG,KAAK,CAAA;AACzB,cAAM,CAAC,cAAc,CACjB,MAAM,CAAC,SAAS,EAChB,GAAG,EACH,QAAQ,CACX,CAAA;KACJ,CAAC,CAAA;CACL;;AAED,SAAS,YAAY,CAAC,MAAgB,EAAE,GAAW,EAAE,UAAU,EAAE,KAAc,EAAE;AAC7E,cAAU,CAAC,QAAQ,GAAG,KAAK,CAAA;AAC3B,WAAO,UAAU,CAAA;CACpB;;AAED,SAAS,UAAU,CAAC,MAAgB,EAAE,GAAW,EAAE,UAAU,EAAE,KAAc,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAwB3E,WAAO,CAAC,IAAI,mDAAmD,CAAA;AAC/D,WAAO,UAAU,CAAA;CACpB;;AAED,SAAS,QAAQ,CAAC,KAAc,EAAE;;AAE9B,QAAG,OAAO,KAAK,KAAK,SAAS,EAAE;AAC3B,4BAAQ,UAAU,CAAC,UAAU,EAAE,SAAS,EAAE,KAAK,CAAC,CAAA;AAChD,eAAO;KACV;;AAED,WAAO,YAAkB;0CAAN,IAAI;AAAJ,gBAAI;;;AACnB,4BAAQ,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE,UAAU,CAAC,CAAA;KACtE,CAAA;CACJ;;qBAEc,QAAQ","file":"writable.js","sourcesContent":["import Helpers from './_helper'\n\nfunction handleClass(target: Function, input: Boolean) {\n    Helpers.forEachClassOwnKeys(target, function(key) {\n        var describe = Object.getOwnPropertyDescriptor(target.prototype, key)\n\n        describe.writable = input\n        Object.defineProperty(\n            target.prototype,\n            key,\n            describe\n        )\n    })\n}\n\nfunction handleMethod(target: Function, key: String, descriptor, input: Boolean) {\n    descriptor.writable = input\n    return descriptor\n}\n\nfunction handleProp(target: Function, key: String, descriptor, input: Boolean) {\n    /*var initializer = descriptor.initializer\n    debugger\n\n    descriptor.initializer = function(...args) {\n        debugger\n        //var describer = Object.getOwnPropertyDescriptor(this.__proto__, key)\n        //describer.value = initializer.apply(this, args)\n        //Object.defineProperty(this.__proto__, key, describer)\n        //describer.writable = flag\n        //todo: that's works but not save...\n        setTimeout(()=> {\n            var _descriptor = Object.getOwnPropertyDescriptor(this, key)\n            //debugger\n            _descriptor.writable = flag\n            Object.defineProperty(this, key, _descriptor)\n        },0)\n        return initializer.apply(this, args)\n    }*/\n    /*if(!flag) {\n        console.warn(`@writable(false) should not set on class properties.`)\n    } else {\n        descriptor.writable = flag\n    }*/\n    console.warn(`@writable() should not set on class properties.`)\n    return descriptor\n}\n\nfunction writable(input: Boolean) {\n\n    if(typeof input !== \"boolean\") {\n        Helpers.wrongInput('writable', 'boolean', input)\n        return;\n    }\n\n    return function(...args) {\n        Helpers.handler(args, input, handleClass, handleMethod, handleProp)\n    }\n}\n\nexport default writable"]}